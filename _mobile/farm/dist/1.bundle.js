webpackJsonp([1],{56:function(e,t,n){"use strict";function r(e){i.$$store.dispatch(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShoppingCartContainer=void 0;var i=n(2),a=n(57),o=ReactRedux.connect(function(e){return{items:e.shoppingCart,act:r}})(a.ShoppingCart);t.ShoppingCartContainer=o},57:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShoppingCart=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(11);n(58);var l=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(){}},{key:"allChecked",value:function(){for(var e=0;e<this.props.items.length;e++)if(!this.props.items[e].selected)return!1;return!0}},{key:"getTotalPrice",value:function(){for(var e=0,t=0;t<this.props.items.length;t++)this.props.items[t].selected===!0&&(e+=this.props.items[t].price*this.props.items[t].quantity);return e}},{key:"getTotalQuantity",value:function(e){for(var t=0,n=0;n<e.length;n++)e[n].selected===!0&&t++;return t}},{key:"checkAll",value:function(){this.allChecked()?this.props.act({type:"UNCHECK_ALL"}):this.props.act({type:"CHECK_ALL"})}},{key:"checkThis",value:function(e){this.props.act({type:"CHECK_THIS",i:e})}},{key:"minusOne",value:function(e){this.props.items[e].quantity>1&&this.props.act({type:"MINUS",i:e})}},{key:"plusOne",value:function(e){this.props.act({type:"PLUS",i:e})}},{key:"remove",value:function(e){0===this.props.items.length?this.props.act({type:"ALERT",text:"您的的购物车是空的！"}):this.props.act({type:"CONFIRM",text:"确认删除选中的商品吗？"})}},{key:"render",value:function(){var e=this;return console.debug("<ShoppingCart/> rendering"),React.createElement("div",{className:"SHOPPING_CART"},React.createElement("div",{className:"header c-topbar"},"购物车",React.createElement("span",{className:"remove",onClick:this.remove.bind(this)},"删除")),0===this.props.items.length?React.createElement("p",{className:"_info"},"您的购物车是空的"):null,this.props.items.map(function(t,n){return React.createElement("div",{className:"item"},React.createElement("div",{className:"part part-left"},React.createElement("div",{className:t.selected?"circle active":"circle",onClick:e.checkThis.bind(e,n)},React.createElement("i",{className:"fa fa-check"}))),React.createElement("img",{className:"part thumbnail",src:"img/items/"+t.id+"/t.jpg"}),React.createElement("div",{className:"part part-3"},React.createElement("p",{className:"name"},t.name),React.createElement("p",{className:"spec"},t.spec),React.createElement("div",{className:"counter"},React.createElement("p",{className:"counter1",onClick:e.minusOne.bind(e,n)},"-"),React.createElement("p",{className:"counter2"},t.quantity),React.createElement("p",{className:"counter3",onClick:e.plusOne.bind(e,n)},"+"))),React.createElement("div",{className:"part part-4"},React.createElement("p",{className:"price"},"￥",t.price.toFixed(2)),React.createElement("p",{className:"quantity"},"x",t.quantity)))}),React.createElement("div",{className:"footer"},React.createElement("div",{className:this.allChecked()?"circle active":"circle",onClick:this.checkAll.bind(this)},React.createElement("i",{className:"fa fa-check"})),React.createElement("p",{className:"text-all"},"全选"),React.createElement("a",{className:"pay",href:""},"去结算(",this.getTotalQuantity(this.props.items),")"),React.createElement("p",{className:"sum"},"总计：",React.createElement("span",{className:"money"},"￥",this.getTotalPrice().toFixed(2)))),React.createElement("div",{className:"navbarShadow"}),React.createElement(c.Navbar,{name:"shoppingCart"}))}}]),t}(React.Component);t.ShoppingCart=l},58:function(e,t,n){var r=n(59);"string"==typeof r&&(r=[[e.id,r,""]]);n(15)(r,{});r.locals&&(e.exports=r.locals)},59:function(e,t,n){t=e.exports=n(14)(),t.push([e.id,".SHOPPING_CART {\n  background: #ECEBEB;\n}\n.SHOPPING_CART .header {\n  margin-bottom: .20rem;\n}\n.SHOPPING_CART .header .remove {\n  float: right;\n}\n.SHOPPING_CART ._info {\n  font-size: 0.28rem;\n  color: #999999;\n  text-align: center;\n}\n.SHOPPING_CART .item {\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  padding: 0.15rem;\n  margin-bottom: .20rem;\n  background: white;\n  overflow: hidden;\n}\n.SHOPPING_CART .item .part {\n  float: left;\n}\n.SHOPPING_CART .item .part .circle {\n  width: 0.3rem;\n  height: 0.3rem;\n  margin-top: 0.7rem;\n  border-radius: 1rem;\n  border: 1px solid #dfdfdf;\n  font-size: 0.1rem;\n  text-align: center;\n  line-height: 0.3rem;\n  color: white;\n}\n.SHOPPING_CART .item .part .circle.active {\n  background: #0f88eb;\n  border-color: #0f88eb;\n}\n.SHOPPING_CART .item .part-left {\n  margin-right: 0.15rem;\n}\n.SHOPPING_CART .item .thumbnail {\n  width: 1.90rem;\n  height: 1.90rem;\n  margin-right: 0.15rem;\n}\n.SHOPPING_CART .item .thumbnail img {\n  width: 100%;\n}\n.SHOPPING_CART .item .part-3 {\n  position: relative;\n  width: 2.2rem;\n  height: 1.9rem;\n}\n.SHOPPING_CART .item .part-3 .name {\n  width: 100%;\n  height: 0.6rem;\n  font-size: 0.22rem;\n  line-height: 0.3rem;\n  overflow: hidden;\n}\n.SHOPPING_CART .item .part-3 .spec {\n  font-size: 0.22rem;\n  color: #999999;\n}\n.SHOPPING_CART .item .part-3 .counter {\n  position: absolute;\n  left: 0;\n  bottom: 0.3rem;\n}\n.SHOPPING_CART .item .part-3 .counter1 {\n  width: .30rem;\n  height: .30rem;\n  border: 1px solid #dfdfdf;\n  font-size: 0.3rem;\n  line-height: .30rem;\n  text-align: center;\n  float: left;\n  color: grey;\n}\n.SHOPPING_CART .item .part-3 .counter2 {\n  width: 1rem;\n  height: .30rem;\n  border-top: 1px solid #dfdfdf;\n  border-bottom: 1px solid #dfdfdf;\n  font-size: 0.2rem;\n  line-height: .30rem;\n  text-align: center;\n  float: left;\n}\n.SHOPPING_CART .item .part-3 .counter3 {\n  width: .30rem;\n  height: .30rem;\n  border: 1px solid #dfdfdf;\n  font-size: 0.3rem;\n  line-height: .30rem;\n  text-align: center;\n  float: left;\n}\n.SHOPPING_CART .item .part-4 {\n  width: 2rem;\n  float: right;\n  text-align: right;\n}\n.SHOPPING_CART .item .part-4 .price {\n  color: #0f88eb;\n  font-size: 0.3rem;\n}\n.SHOPPING_CART .item .part-4 .quantity {\n  color: #999999;\n  font-size: 0.3rem;\n}\n.SHOPPING_CART .footer {\n  position: fixed;\n  left: 0;\n  bottom: 1rem;\n  width: 100%;\n  height: 1rem;\n  border-top: 1px solid #dfdfdf;\n  border-bottom: 1px solid #dfdfdf;\n  background: white;\n}\n.SHOPPING_CART .footer .circle {\n  float: left;\n  width: 0.3rem;\n  height: 0.3rem;\n  margin-left: 0.15rem;\n  margin-top: 0.3rem;\n  margin-right: 0.2rem;\n  border-radius: 1rem;\n  border: 1px solid #dfdfdf;\n  font-size: 0.1rem;\n  text-align: center;\n  line-height: 0.3rem;\n  color: white;\n}\n.SHOPPING_CART .footer .circle.active {\n  background: #0f88eb;\n  border-color: #0f88eb;\n}\n.SHOPPING_CART .footer .text-all {\n  float: left;\n  line-height: 1rem;\n  font-size: 0.3rem;\n}\n.SHOPPING_CART .footer .back {\n  position: absolute;\n  width: 1rem;\n  height: 1rem;\n  border-right: 1px solid black;\n  overflow: hidden;\n  display: block;\n}\n.SHOPPING_CART .footer .back img {\n  width: 0.19rem;\n  height: 0.37rem;\n  margin: auto;\n  margin-top: .30rem;\n  display: block;\n}\n.SHOPPING_CART .footer .discount {\n  position: absolute;\n  left: 1.25rem;\n  top: .15rem;\n  color: grey;\n  font-size: 0.2rem;\n}\n.SHOPPING_CART .footer .sum {\n  float: right;\n  padding-right: 0.15rem;\n  font-size: 0.3rem;\n  line-height: 1rem;\n}\n.SHOPPING_CART .footer .sum .money {\n  color: #0f88eb;\n}\n.SHOPPING_CART .footer .pay {\n  float: right;\n  height: 100%;\n  padding: 0 0.2rem;\n  background: #0f88eb;\n  color: white;\n  text-align: center;\n  font-size: 0.32rem;\n  line-height: 1rem;\n}\n.SHOPPING_CART .navbarShadow {\n  width: 100%;\n  height: 2rem;\n}\n",""])}});