<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=none">
	<title>topbar</title>
	<link href="css/common.css" rel="stylesheet">
	<link href="css/keyframes.css" rel="stylesheet">
	<link href="font-awesome-4.4.0/css/font-awesome.css" rel="stylesheet">
<style>
* {margin:0;padding:0;}
html {font-size:100px;}
body {}
.container {overflow:hidden}
.pages {}
.page {width:100%;overflow:hidden;}
ul li:nth-child(1) {background:#F5841E;}
ul li:nth-child(2) {background:#FDC427;}
ul li:nth-child(3) {background:#69B91F;}
ul li:nth-child(4) {background:#0090FF;}
ul li:nth-child(5) {background:#C94D91;}
.next {position:fixed;left:50%;bottom:10px;color:white;cursor:pointer;font-size:50px;}
.next>div {margin:-10px 0 0 -30px;}
.icons {margin: 100px auto;display:block;opacity:0}
</style>
<script type="text/javascript" src="../js/_.js"></script>
<script src="../js/zeal.js"></script>
<script>
$( document ).ready(function(){
	//---------------------------------------------------------------------------------------------------------------
	//variables
	var w,h;
	var 
		$train=document.getElementsByClassName("train")[0],
		$page=document.getElementsByClassName("page"),
		$next=document.getElementsByClassName("next")[0],
		icons=document.getElementsByClassName("icons")[0],
		sina=document.getElementsByClassName("sina")[0];
	var n=0;
	var scrolling=false;
	//---------------------------------------------------------------------------------------------------------------
	function init(){
		w=window.innerWidth;
		h=window.innerHeight;
		$('.container').css({
			width: w+'px',
			height: h+'px'
		})
		$('.page').css({
			height: h+'px'
		})
		$('html').css({
			fontSize:10*(w/320)+"px"
		});
		$('.train').css({
			marginTop:'-'+n*h+'px'
		})
	};
	function toNext(){
		if( !scrolling&&n<$page.length-1 ){
			scrolling = true;
			$('.train').animate({marginTop:'-='+h},200,function(){
				n++;
				scrolling = false;
			});
		};
	};
	function toPrev(){
		if( !scrolling&&n>0 ){
			scrolling = true;
			$('.train').animate({marginTop:'+='+h},200,function(){
				n--;
				scrolling = false;
			});
		};		
	};
	function reset(){
		icons.style.animation="";
	
	};
	function animate(){
		if(n===0){
			sina.style.animation="shimmering 1s infinite";
			icons.style.animation="fadeIn 3s forwards"
		};
	};
	//---------------------------------------------------------------------------------------------------------------
	init();
	window.onresize=init;
	$next.style.animation="poping 1s infinite";
	animate();

	$('.next').on("click",function(){
		toNext( h,200 );
	});

	$( window ).on("DOMMouseScroll mousewhell keydown",function(e){
		e=e || window.event;
		if( e.detail>0||e.wheelDelta<0||e.keyCode===40 ){
			toNext();
		}else
		if( e.detail<0||e.wheelDelta>0||e.keyCode===38 ){
			toPrev();
		};
	});
	
});
</script>
</head>

<body>
	<div class="next"><div><i class="fa fa-angle-down"></i></div></div>
	<div class="container">
		<ul class="train">
			<li class="page">
				<img class="icons" src="png/banner3_txt_4.png">
				<img class="sina" src="png/sina_icon.png">
			</li>
			<li class="page"></li>
			<li class="page"></li>
			<li class="page"></li>
			<li class="page"></li>
		</ul>
	</div>
	
	
</body>

</html>
